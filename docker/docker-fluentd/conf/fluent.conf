<source>
  @type tail
  format multiline
  path /Users/uratamanabu/IdeaProjects/Sudoku/micro-config/micro-config.log
  tag micro.config
  refresh_interval 5s
  format_firstline /\d{4}-\d{1,2}-\d{1,2} \d{1,2}:\d{1,2}:\d{1,2}\.\d{3}.*---/
  format1 /^(?<time>\d{4}-\d{1,2}-\d{1,2} \d{1,2}:\d{1,2}:\d{1,2}\.\d{3})\s+(?<level>[^\s]+)\s+(?<process>[^\s]+)\s+---\s+\[(?<thread>[^\s]+)\]\s+(?<class>[^\s]+)\s+:\s+(?<message>.*)/
</source>

<match micro.config>
  @type elasticsearch
  host elasticsearch
  buffer_type memory
  port 9200
  index_name fluentd
  type_name micro.config
  logstash_format true
  logstash_prefix micro-config
  logstash_dateformat %Y%m%d
  flush_interval 5s
</match>